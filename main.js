!function(){"use strict";class e{constructor(e,t,s){this._data=e,this._name=e.name,this._link=e.link,this._cardSelector=t,this._element=this._getTemplate(),this._handleImageClick=s,this._cardLikeBtn=this._element.querySelector(".card__like-button")}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._cardLikeBtn.addEventListener("click",(()=>this._handleCardLike())),this._element.querySelector("#card-delete-btn").addEventListener("click",(()=>this._handleCardDelete())),this._element.querySelector(".card__image").addEventListener("click",(()=>this._handleImageClick(this._data)))}_handleCardLike(){this._cardLikeBtn.classList.toggle("card__like-button_active")}_handleCardDelete(){this._element.remove(),this._element=null}cardView(){return this._element.querySelector(".card__header").textContent=this._name,this._element.querySelector(".card__image").src=this._link,this._element.querySelector(".card__image").alt=this._name,this._setEventListeners(),this._element}}class t{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._buttonElement=this._form.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!Array.from(this._form.querySelectorAll(this._inputSelector)).every((e=>e.validity.valid||""===!e.value.trim()))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}_setEventListeners(){const e=Array.from(this._form.querySelectorAll(this._inputSelector));this._toggleButtonState(),e.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const s=document.querySelector("#js-edit-button"),i=document.querySelector("#js-add-button"),r=(document.querySelectorAll(".modal__close"),document.querySelector("#profile-edit-modal")),o=(document.forms["profile-form"],document.querySelector("#profile_name"),document.querySelector("#profile_job"),document.querySelector("#add-card-modal")),n=document.forms["card-form"],l=document.querySelector("#modal-preview-img"),a=(document.querySelector(".js-modal-img-preview"),l.querySelector("#js-preview-caption"),r.querySelector("[name='title']")),c=r.querySelector("[name='description']"),d=(o.querySelector("[name='title']"),o.querySelector("[name='link']"),document.querySelector(".cards__list"));class u{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".modal__close").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("click",(e=>{e.target.classList.contains("modal_opened")&&this.close()}))}}class m extends u{constructor(e,t){super(e),this._handleFormSubmit=t,this._form=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupElement.querySelectorAll(".modal__input")}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._popupElement.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t),this._form.reset()}))}}function h(t){return new e(t,"#card-template",(e=>{S.open(e)})).cardView()}const _={};var p;p={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(p.formSelector)).forEach((e=>{const s=new t(p,e),i=e.getAttribute("name");_[i]=s,s.enableValidation()}));const f=new class{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._container=t}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Delijan, Iran",link:"https://images.unsplash.com/photo-1716102229255-faeed7ddb72a?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Gardens by the Bay, Singapore",link:"https://images.unsplash.com/photo-1516496636080-14fb876e029d?q=80&w=2576&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"San Francisco, California",link:"https://images.unsplash.com/photo-1718041705221-0a6a8735c278?q=80&w=2574&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Luna Park, Austrailia",link:"https://images.unsplash.com/photo-1718586534246-0e30b55a713e?q=80&w=2574&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Hakodate, Japan",link:"https://images.unsplash.com/photo-1581346901292-7cf5c786d194?q=80&w=2564&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Denmark",link:"https://images.unsplash.com/photo-1717010908458-cedcec3d8222?q=80&w=2565&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"London, England",link:"https://images.unsplash.com/photo-1711322605808-426ce4a357c1?q=80&w=2574&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Times Square, New York",link:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}],renderer:e=>{f.addItem(h(e))}},d);f.renderItems();const b=new class{constructor(e){let{profileName:t,profileJob:s}=e;this.profileJob=document.querySelector(s),this.profileName=document.querySelector(t)}getUserInfo(){return{name:this.profileName.textContent,job:this.profileJob.textContent}}setUserInfo(e){this.profileName.textContent=e.title,this.profileJob.textContent=e.description}}({profileName:"#profile_name",profileJob:"#profile_job"}),y=new m("#profile-edit-modal",(e=>{b.setUserInfo(e),y.close()}));y.setEventListeners(),s.addEventListener("click",(()=>{const e=b.getUserInfo();a.value=e.name,c.value=e.job,y.open()}));const x=new m("#add-card-modal",(e=>{const t=h(e);f.addItem(t),x.close(),n.reset(),_["card-form"].disableButton()}));x.setEventListeners(),i.addEventListener("click",(function(){x.open()}));const S=new class extends u{constructor(e){super(e),this._title=this._popupElement.querySelector("#js-preview-caption"),this._image=this._popupElement.querySelector(".modal__link")}open(e){this._image.src=e.link,this._title.textContent=e.name,this._image.alt=e.name,super.open()}}("#modal-preview-img");S.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS3FJLE9BQVNySSxLQUFLOEUsY0FBY25FLGNBQWMsZUFDakQsQ0FFQXNFLElBQUFBLENBQUtwRixHQUdIRyxLQUFLcUksT0FBTzdHLElBQU0zQixFQUFLUSxLQUN2QkwsS0FBS29JLE9BQU83RyxZQUFjMUIsRUFBS00sS0FDL0JILEtBQUtxSSxPQUFPNUcsSUFBTTVCLEVBQUtNLEtBRXZCdUYsTUFBTVQsTUFDUixHSHNGb0Msc0JBQ3RDbUIsRUFBV2YsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrKSB7XHJcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yOyBcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9jYXJkTGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiByZXR1cm4gY2FyZFRlbXBsYXRlO1xyXG4gIH1cclxuICBcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiBcclxuICAgIHRoaXMuX2NhcmRMaWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSgpKTtcclxuXHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWRlbGV0ZS1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUoKSk7XHJcblxyXG4gICAgICAvLyBwYXNzIGRhdGEgdG8gdGhlIGltYWdlIGNsaWNrIGhhbmRsZXJcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFxyXG4gICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX2RhdGEpKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDYXJkTGlrZSgpIHtcclxuICAgIHRoaXMuX2NhcmRMaWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xyXG4gIFxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNhcmREZWxldGUoKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgY2FyZFZpZXcoKSB7XHJcbiAgIC8vIGdldCB0aGUgY2FyZCB2aWV3XHJcbiAgIC8vIHNldCBldmVudCBsaXN0ZW5lcnNcclxuICAgLy8gcmV0dXJuIHRoZSBjYXJkXHJcbiAgIFxyXG4gICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19oZWFkZXInKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJykuc3JjID0gdGhpcy5fbGluaztcclxuICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKS5hbHQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICByZXR1cm4gIWlucHV0TGlzdC5ldmVyeSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQgfHwgIWlucHV0RWxlbWVudC52YWx1ZS50cmltKCkgPT09IFwiXCI7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBjYXJkU2VsZWN0b3IgPSAnI2NhcmQtdGVtcGxhdGUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIkRlbGlqYW4sIElyYW5cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MTYxMDIyMjkyNTUtZmFlZWQ3ZGRiNzJhP3E9ODAmdz0yNjcwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiXHJcbiAgfSwgXHJcbiAge1xyXG4gICAgbmFtZTogXCJHYXJkZW5zIGJ5IHRoZSBCYXksIFNpbmdhcG9yZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxNjQ5NjYzNjA4MC0xNGZiODc2ZTAyOWQ/cT04MCZ3PTI1NzYmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiU2FuIEZyYW5jaXNjbywgQ2FsaWZvcm5pYVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTcxODA0MTcwNTIyMS0wYTZhODczNWMyNzg/cT04MCZ3PTI1NzQmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTHVuYSBQYXJrLCBBdXN0cmFpbGlhXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNzE4NTg2NTM0MjQ2LTBlMzBiNTVhNzEzZT9xPTgwJnc9MjU3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJIYWtvZGF0ZSwgSmFwYW5cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1ODEzNDY5MDEyOTItN2NmNWM3ODZkMTk0P3E9ODAmdz0yNTY0JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkRlbm1hcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MTcwMTA5MDg0NTgtY2VkY2VjM2Q4MjIyP3E9ODAmdz0yNTY1JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxvbmRvbiwgRW5nbGFuZFwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTcxMTMyMjYwNTgwOC00MjZjZTRhMzU3YzE/cT04MCZ3PTI1NzQmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVGltZXMgU3F1YXJlLCBOZXcgWW9ya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTQ5NjQ0MjIyNjY2Ni04ZDRkMGU2MmU2ZTk/cT04MCZ3PTI2NzAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCJcclxuIH1cclxuXTtcclxuXHJcblxyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgRWxlbWVudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtZWRpdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1hZGQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2Nsb3NlJyk7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9maWxlLWVkaXQtbW9kYWwnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9maWxlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZmlsZV9qb2InKTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLWNhcmQtbW9kYWwnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJjYXJkLWZvcm1cIl07XHJcblxyXG5leHBvcnQgY29uc3QgcHJldmlld0ltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kYWwtcHJldmlldy1pbWcnKTtcclxuZXhwb3J0IGNvbnN0IHByZXZpZXdJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbW9kYWwtaW1nLXByZXZpZXcnKTtcclxuZXhwb3J0IGNvbnN0IHByZXZpZXdJbWFnZUNhcHRpb24gPSBwcmV2aWV3SW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKCcjanMtcHJldmlldy1jYXB0aW9uJyk7XHJcblxyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3RpdGxlJ11cIik7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIltuYW1lPSdkZXNjcmlwdGlvbiddXCIpO1xyXG5leHBvcnQgY29uc3QgdGl0bGVJbnB1dCA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3RpdGxlJ11cIik7XHJcbmV4cG9ydCBjb25zdCBsaW5rSW5wdXQgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIltuYW1lPSdsaW5rJ11cIik7XHJcblxyXG5leHBvcnQgY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlzdCcpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIlxyXG59OyAiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICAvL29wZW4gcG9wdXAgbG9naWNcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICAvL2Nsb3NlIHBvcHVwIGxvZ2ljXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIC8vc3RvcmUgbG9naWMgZm9yIGNsb3NpbmcgdXNpbmcgZXNjXHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vYWRkIGNsaWNrIGV2ZW50IGxpc3RlbmVyIHRvIGNsb3NlIGljb24gb2YgdGhlIHBvcHVwXHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuXHJcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBjbG9zZSBvbiBvdmVybGF5IGNsaWNrXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAvL2NvbGxlY3QgYWxsIGRhdGEgZnJvbSBhbGwgaW5wdXQgZmllbGRzXHJcbiAgICAvLyByZXR1cm4gaXQgYXMgb2JqZWN0XHJcbiAgICAvLyBwYXNzIHRvIHN1Ym1pc3Npb24gaGFuZGxlciBhcyBhcmd1bWVudFxyXG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gYWRkIHN1Ym1pdCBldmVudCBsaXN0ZW5lciB0byB0aGUgZm9ybVxyXG4gICAgLy9jYWxsIHNldEV2ZW50TGlzdGVuZXJzIG1ldGhvZFxyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgY29uc3QgaW5wdXREYXRhID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdChpbnB1dERhdGEpO1xyXG5cclxuICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtcclxuICBpbml0aWFsQ2FyZHMsXHJcbiAgY2FyZENvbnRhaW5lcixcclxuICBjYXJkU2VsZWN0b3IsXHJcbiAgY2FyZEZvcm0sXHJcbiAgc2V0dGluZ3MsXHJcbiAgYnV0dG9uRWRpdCxcclxuICB0aXRsZUlucHV0LFxyXG4gIGJ1dHRvbkFkZCxcclxuICBsaW5rSW5wdXQsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKGRhdGEsIGNhcmRTZWxlY3RvciwgKGltZ0RhdGEpID0+IHtcclxuICAgIGltYWdlUG9wdXAub3BlbihpbWdEYXRhKTtcclxuICB9KTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQuY2FyZFZpZXcoKTtcclxufVxyXG5cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgIFZhbGlkYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuXHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoc2V0dGluZ3MpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZXR0aW5ncy5mb3JtU2VsZWN0b3IpKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KTtcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuXHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XHJcblxyXG4vLyBTZWN0aW9uIGNsYXNzIEluc3RhbmNlXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIGNhcmRDb250YWluZXJcclxuKTtcclxuY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuXHJcbi8vIFVzZXJJbmZvIGNsYXNzIGluc3RhbmNlXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBwcm9maWxlTmFtZTogXCIjcHJvZmlsZV9uYW1lXCIsXHJcbiAgcHJvZmlsZUpvYjogXCIjcHJvZmlsZV9qb2JcIixcclxufSk7XHJcblxyXG4vLyBFZGl0IG1vZGFsIGluc3RhbmNlXHJcbmNvbnN0IHBvcHVwV2l0aEVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgKGZvcm1EYXRhKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhmb3JtRGF0YSk7XHJcbiAgICBwb3B1cFdpdGhFZGl0Rm9ybS5jbG9zZSgpO1xyXG4gIH1cclxuKTtcclxuXHJcbnBvcHVwV2l0aEVkaXRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgLy8gYXNzaWduIHRoZW0gdG8gdGhlIHZhbHVlIG9mIHRoZSBjb3JyZXNwb25kaW5nIGlucHV0IGVsZW1lbnRzXHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5qb2I7XHJcbiAgcG9wdXBXaXRoRWRpdEZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIEFkZCBtb2RhbCBpbnN0YW5jZVxyXG5jb25zdCBwb3B1cFdpdGhBZGRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYWRkLWNhcmQtbW9kYWxcIiwgKGZvcm1EYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGZvcm1EYXRhKTtcclxuICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICBwb3B1cFdpdGhBZGRGb3JtLmNsb3NlKCk7XHJcbiAgY2FyZEZvcm0ucmVzZXQoKTtcclxuICBmb3JtVmFsaWRhdG9yc1tcImNhcmQtZm9ybVwiXS5kaXNhYmxlQnV0dG9uKCk7XHJcbn0pO1xyXG5wb3B1cFdpdGhBZGRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5idXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBwb3B1cFdpdGhBZGRGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyBQcmV2aWV3IGltYWdlIG1vZGFsIGluc3RhbmNlXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjbW9kYWwtcHJldmlldy1pbWdcIik7XHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIC8vIHRoaXMuX2NvbnRhaW5lclNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iIH0pIHtcclxuICAgIHRoaXMucHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUpvYik7XHJcbiAgICB0aGlzLnByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIC8vIHJldHVybnMgb2JqZWN0IHdpdGggdXNlciBpbmZvXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLnByb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMucHJvZmlsZUpvYi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAvL3Rha2VzIG5ldyB1c2VyIGRhdGEgYW5kIGFkZHMgdG8gcGFnZVxyXG4gICAgLy91c2UgYWZ0ZXIgc3VjY2Vzc2Z1bCBwcm9maWxlIGZvcm0gc3VibWlzc2lvblxyXG4gICAgdGhpcy5wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGU7XHJcblxyXG4gICAgdGhpcy5wcm9maWxlSm9iLnRleHRDb250ZW50ID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1wcmV2aWV3LWNhcHRpb24nKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fbGluaycpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihkYXRhKSB7XHJcbiAgICAvLyBhY2NlcHQgbmFtZSBhbmQgbGluayBvZiB0aGUgY2FyZFxyXG4gICAgLy8gYWRkIGltYWdlIHRvIHBvcHVwIGFuZCBjb3JyZXNwb25kaW5nIGltYWdlIHNyYyBhbmQgY2FwdGlvblxyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcblxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsInRoaXMiLCJfZGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2NhcmRMaWtlQnRuIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlQ2FyZExpa2UiLCJfaGFuZGxlQ2FyZERlbGV0ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImNhcmRWaWV3IiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9mb3JtIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2J1dHRvbkVsZW1lbnQiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZXJ5IiwidmFsdWUiLCJ0cmltIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiaW5wdXRMaXN0IiwiZm9yRWFjaCIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImJ1dHRvbkVkaXQiLCJidXR0b25BZGQiLCJwcm9maWxlRWRpdE1vZGFsIiwiYWRkQ2FyZE1vZGFsIiwiZm9ybXMiLCJjYXJkRm9ybSIsInByZXZpZXdJbWFnZU1vZGFsIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJjYXJkQ29udGFpbmVyIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJpbnB1dERhdGEiLCJyZXNldCIsImNyZWF0ZUNhcmQiLCJpbWdEYXRhIiwiaW1hZ2VQb3B1cCIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybVNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJjYXJkU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInVzZXJJbmZvIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwiZ2V0VXNlckluZm8iLCJqb2IiLCJzZXRVc2VySW5mbyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwb3B1cFdpdGhFZGl0Rm9ybSIsImZvcm1EYXRhIiwidXNlckRhdGEiLCJwb3B1cFdpdGhBZGRGb3JtIiwiY2FyZEVsZW1lbnQiLCJfdGl0bGUiLCJfaW1hZ2UiXSwic291cmNlUm9vdCI6IiJ9